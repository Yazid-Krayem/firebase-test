{"ast":null,"code":"import _classCallCheck from \"/home/yazid/Desktop/firebase-test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yazid/Desktop/firebase-test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yazid/Desktop/firebase-test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yazid/Desktop/firebase-test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yazid/Desktop/firebase-test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yazid/Desktop/firebase-test/src/components/MessageList.js\";\nimport React, { Component } from 'react';\nimport Message from './Message';\nimport _ from 'lodash';\n\nvar MessageList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MessageList, _Component);\n\n  function MessageList(props) {\n    var _this;\n\n    _classCallCheck(this, MessageList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MessageList).call(this, props));\n    _this.state = {\n      messages: []\n    };\n\n    var app = _this.props.db.database().ref('messages');\n\n    app.on('value', function (snapshot) {\n      _this.getData(snapshot.val());\n    });\n    return _this;\n  }\n\n  _createClass(MessageList, [{\n    key: \"getData\",\n    value: function getData(values) {\n      var messagesVal = values;\n\n      var messages = _(messagesVal).keys().map(function (messageKey) {\n        var cloned = _.clone(messagesVal[messageKey]);\n\n        cloned.key = messageKey;\n        return cloned;\n      }).value();\n\n      this.setState({\n        messages: messages\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var messageNodes = this.state.messages.map(function (message) {\n        return React.createElement(\"div\", {\n          className: \"card\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }, React.createElement(Message, {\n          message: message.message,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        })));\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, messageNodes);\n    }\n  }]);\n\n  return MessageList;\n}(Component);\n\nexport default MessageList;","map":{"version":3,"sources":["/home/yazid/Desktop/firebase-test/src/components/MessageList.js"],"names":["React","Component","Message","_","MessageList","props","state","messages","app","db","database","ref","on","snapshot","getData","val","values","messagesVal","keys","map","messageKey","cloned","clone","key","value","setState","messageNodes","message"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,CAAP,MAAc,QAAd;;IAEMC,W;;;;;AACJ,uBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,qFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;;AAGA,QAAIC,GAAG,GAAG,MAAKH,KAAL,CAAWI,EAAX,CAAcC,QAAd,GAAyBC,GAAzB,CAA6B,UAA7B,CAAV;;AACAH,IAAAA,GAAG,CAACI,EAAJ,CAAO,OAAP,EAAgB,UAAAC,QAAQ,EAAI;AAC1B,YAAKC,OAAL,CAAaD,QAAQ,CAACE,GAAT,EAAb;AACD,KAFD;AANgB;AASjB;;;;4BAEOC,M,EAAO;AACb,UAAIC,WAAW,GAAGD,MAAlB;;AACA,UAAIT,QAAQ,GAAGJ,CAAC,CAACc,WAAD,CAAD,CACIC,IADJ,GAEIC,GAFJ,CAEQ,UAAAC,UAAU,EAAI;AACf,YAAIC,MAAM,GAAGlB,CAAC,CAACmB,KAAF,CAAQL,WAAW,CAACG,UAAD,CAAnB,CAAb;;AACAC,QAAAA,MAAM,CAACE,GAAP,GAAaH,UAAb;AACA,eAAOC,MAAP;AACH,OANJ,EAOIG,KAPJ,EAAf;;AAQE,WAAKC,QAAL,CAAc;AACZlB,QAAAA,QAAQ,EAAEA;AADE,OAAd;AAGH;;;6BAEQ;AACP,UAAImB,YAAY,GAAG,KAAKpB,KAAL,CAAWC,QAAX,CAAoBY,GAApB,CAAwB,UAACQ,OAAD,EAAa;AACtD,eACE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,OAAD;AAAS,UAAA,OAAO,EAAIA,OAAO,CAACA,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF;AAOD,OARkB,CAAnB;AASA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGD,YADH,CADF;AAKD;;;;EA1CuBzB,S;;AA6C1B,eAAeG,WAAf","sourcesContent":["import React, {Component} from 'react';\nimport Message from './Message';\nimport _ from 'lodash';\n\nclass MessageList extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      messages: []\n    };\n    let app = this.props.db.database().ref('messages');\n    app.on('value', snapshot => {\n      this.getData(snapshot.val());\n    });\n  }\n\n  getData(values){\n    let messagesVal = values;\n    let messages = _(messagesVal)\n                      .keys()\n                      .map(messageKey => {\n                          let cloned = _.clone(messagesVal[messageKey]);\n                          cloned.key = messageKey;\n                          return cloned;\n                      })\n                      .value();\n      this.setState({\n        messages: messages\n      });\n  }\n\n  render() {\n    let messageNodes = this.state.messages.map((message) => {\n      return (\n        <div className=\"card\">\n          <div className=\"card-content\">\n            <Message message = {message.message} />\n          </div>\n        </div>\n      )\n    });\n    return (\n      <div>\n        {messageNodes}\n      </div>\n    );\n  }\n}\n\nexport default MessageList"]},"metadata":{},"sourceType":"module"}